<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <title>book</title>
</head>


   <style>
    
    input{
        width:100px;

        
    }
    table{background-color: pink;}

    td{
        width:200px;
    }
    </style>
<body>
    <table border="1" style="width: 800px;">
        <tr>
            <td><a href= 'room.html'>객실타입관리</a>&nbsp;
           
            <a href='book.html'>객실관리</a>&nbsp;
            
            객실예약관리</td>&nbsp;

            <td style="width: 32%;"><h2>호탤 객실 예약 관리</h2></td>
            <td style="width: 32%;"> &nbsp;</td>
        </tr>
        <tr>
            <td>
                <select style="width:500px; height:400px; " size="10" id="roombox" name="roombox" >
                  <!-- <option> 백두산 SuiteRoom 120k</option>
                  <option> 한라산 FamilyRoom 100k</option>
                  <option> 광덕산 DeluxeRoom100k</option>
                  <option> 태조산SingleRoom 80k</option> -->
                  <!-- <option> DoubleRoom</option> -->
                    

                </select>

            </td>
            <td style="width: 500px;" id = box name = box>
                <table >

                    <tr>
                        <td style="width:50%" colspan="2">객실번호</td><td style="width:10px"><input type = 'text' id =rn name = rn></td>
                    </tr>
                    <tr>
                        <td colspan="2">객실명</td><td><input type = text id = name name= name></td>
                    </tr>
                    <tr>
                        <td colspan="2">객실타입</td>
                        <td style="width:500px" >
                            
                            <select style="width:100px" id=typee >
                                
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">숙박가능인원</td><td><input type="rn" id = pers name = pers></td>
                    </tr>
                    <tr>
                        <td colspan="2">1박요금</td><td><input type = text id = fee name =fee></td>
                    </tr>
                    <tr>
                        <td colspan = "3">&nbsp;</td>

                    </tr>
                    <tr>
                        
                <td style="width:33.3%"  align="center"><button id=btnSelect name =btn>추가</button></td>
                <td style="width:33.3%" align="right"><button id=btnReset name = btn>삭제</button></td>
                <td style="width:33.3%" align="center"><button id='btnempty' name="btn" >비우기</button></td>
                <td style="width:33.3%" align="center"><button id='btntype' name="btn" >객실타입</button></td>
                
     

                    </tr>
                </table>

            </td>

            <td>

            </td>

        </tr>



    </table>
    <div id="typeDlg" style ="display:none" >
   <!-- <label id = "lblMessage"></label><br> -->
    <!-- <button id ="btnClose">닫기</button> -->
    
    <table border="1">

        <tr>
            <td>
                <td colspan=2 align="center"><select style="width:200px; height:200px; " size="10" id="roomb" name="roomb"   ></td>
                    <option> </option>
            </td>

            

            <td>
                <table>
                <tr>
                    <td colspan="2">객실타입번호</td><td><input type="number" id="numb" name="numb"></td>
                </tr>
                <tr>
                    <td colspan="2">객실타입명</td><td><input type="text" id="name1" name="name1"></td>
                </tr>
                <tr>
                    <td colspan='3'>&nbsp;</td>
                </tr>
                <tr>
                    <td align><button id=btnSelect1>추가</button></td>
                    <td align><button id=btnReset1>삭제</button></td>
                    <td align><button id=tableempty>비우기</button></td>
                </tr>
                </table>
            </td>


        </tr>
        
           
          
       
    </table>
</div>
</body>
<script src ="https:code.jquery.com/jquery-latest.js"></script>
<script src ="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

<script>
    $(document)
    .on('click','#btntype',function(){
        $('#typeDlg').dialog({
            minWidth:570, maxWidth:571, minHeight:550, maxHeight:551,
            beforeClose:function(){
                $('#typee').empty()
                for(i=0;i<$('#roomb option').length;i++){
                   
                    str = $('#roomb option').eq(i).text().split(', ')
                    number = str[0]; name = str[1];
                    str1 = '<option value='+str[0]+'>' + name + '</option>'
                    $('#typee').append(str1);
                }

            }
        })
    })


    .on('click','#btnSelect',function(){
        
        rn=$('#rn').val();
        name = $('#name').val();
        typee= $('#typee option:selected').text();
        
        pers=$('#pers').val();
        fee=$('#fee').val();
        
        $('#roombox').append('<option>'+'객실번호: '+rn+' 객실명: '+name+' 객실타입: '+typee+' 숙박가능인원: '+pers+' 1박요금: '+fee +'</option>');
        console.log()
    })
            
            .on('click','#btnReset',function(){
                $('#roombox option:selected').remove();
            })
            
            
            .on('click','#btnempty',function(){
                $('#rn').val('');
                $('#name').val('');
                $('#typee').val('');
                $('#pers').val(1);
                $('#fee').val('');
            })

            .on('click','#btnSelect1',function(){
                numb=$('#numb').val()
                name1=$('#name1').val();
                $('#roomb').append('<option>'+numb+", "+name1+'</option>')
                
            })

            .on('click','#btnReset1',function(){
                $('#roomb option:selected').remove();
            })
            .on('click','#tableempty',function(){
                $('#numb').val('')
                $('#name1').val('')
            })

// $(window)
// .on('beforeunload', function(){
//     i=0
//     $('#selType option').each(function(){
//         setCookie('type'+i, $(this).text());
//         i++;
//     })

// })



// function setCookie(key,value){
//       let n =365*24*60*60*1000;
//       let now = new Date();
//       now.setTime(now.getTime()+n);
//       console.log(now);
//       document.cookie=key+'='+value+';expires='+now.toGMTStrin()+';path:file '
// }

//  function getCookie(key){
//     var value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
//       return value? value[2] : null;
// ?
// .on('click','#btnClose',function(){
//     $('#alertDlg').dialog('close')
// })


// }
// // .on('click','#btnSelect1',function(){
// //     numb=('#numb').val();
// // })






</script>

</html>