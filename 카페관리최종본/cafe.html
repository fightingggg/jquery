<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>카페관리</title>
</head>
<style>
    
    body{
        font-size: 20px;
    }
    select{
        width: 200px;
        height: 200px;
        font-size: 17px;
        
    }
    input, button{
        font-size: 25px;
    }
    table{
        color: aliceblue;
        background-color: black;
    }
    .line{
        
        background-color: skyblue;
    }
    button{
        background-color: gray;
        color: aliceblue;
    }
    .headsize{
        height: 100px;
        background-color: skyblue
    }
    .bodysize{
        height: 300px;
        width: 300px;
        background-color: rgb(243, 247, 247);
        
    }
    

</style>
<body style="background-color: black;">
    <table style="width: 100%; height: 880px;" align="center" border="70">
        <tr>
            <td colspan="3" style="text-align: center; color: black; background-color: skyblue; font-family:Georgia, 'Times New Roman', Times, serif ">
                <h1>카페관리</h1></td>
        </tr>
        <tr>
            <td valign="top" align="center" class="line" valign="middle">
                <table class="line">
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr align="center" valign="middle"  class="headsize">
                    <td  colspan="2" ><h2>메뉴목록</h2></td>
                </tr>
                <td colspan=2 valign="bottom">
                    <select size="11" class="bodysize" style="text-align:center" style="font-size:150px" >
                    <option name="menubox" value="latee">Latte, 4000</option>
                    <option name="menubox" value="mocca">Mocca, 4000</option>
                    <option name="menubox" value="americano">americano, 3000</option>
                    <option name="menubox" value="espresso">Espresso, 2500</option>
                    <option name="menubox" value="cappuccino">Cappucpcino, 4000</option>
                    <option name="menubox" value="greentea">Green Tea, 3500</option>
                    <option name="menubox" value="Coldbrew">Cold brew, 3500</option>
                    </select>
                </td>
                </tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr></tr>
                    <td>메뉴명</td><td><input type=text id="name" name="name" readonly style="width: 120px;"></td>
                </tr>
                <tr>
                    <td>수량</td><td><input type="number" id="quantity" name="quantity" style="width: 120px;" value="1">잔</td>
                </tr>
                <tr>
                    <td>가격</td><td><input type="number" id="price" readonly style="width: 120px;">원</td>
                </tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><tr><td></td></tr><tr></tr><tr><td></td></tr><tr></tr>
                <tr>
                <tr align="center">
                    <td colspan="2"><button id="btnS">주문</button>
                    <button id="btnR">지우기</button></td>
                </tr>
                </table>
           </td>
           <td valign="top" align="center" class="line">
                <table class="line">
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr align="center" class="headsize">
                        <td colspan="2"><h2>주문내역</h2></td></tr>
                    <tr>
                        <td colspan="2" class="bodysize">
                            <select id="orderbox" size="11" class="bodysize">
                            </select>
                        </td>
                    </tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr>
                        <td>주문금액</td><td><input type="number" id="orderprice" readonly style=" width: 100px;">원</td>
                    </tr>
                    <tr>
                        <td>모바일번호</td><td><input type="tex" id="mobile" name="mobile" style="width: 100px;"></td>
                    </tr>
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr>
                    <tr align="center">
                        <td colspan="2"><button id="btnO">주문완료</button>
                        <button id="btnC">취소</button></td>
                    </tr>
                </table>
           </td>
           <td valign="top" align="center" class="line">
                <table class="line">
                    <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                    <tr align="center" class="headsize">
                        <td><h2>매출내역</h2></td>
                    </tr>
                        <tr>
                            <td>
                                <select  id="final" size="20" class="bodysize">
                                </select>
                            </td>
                        </tr>
                        <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr>
                        <tr align="center">
                            <td>매출총액 &nbsp;&nbsp;<input type="text" id="totalsales" name="totalsales" style="width: 100px;"></td>
                        </tr>
                        <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr><tr><td></td></tr>
                <tr><td></td></tr><tr><td></td></tr>
                        <tr align="center">
                            <td><button id="buttonref">새로고침</button></td>
                        </tr>
                    </table>
           </td>
           </td>
        </tr>
        <tr style="background-color: rgb(10, 2, 2); color: rgb(243, 241, 241); font-size: 2ch;">
            
            <td colspan="3" align="Right">
               Created
               by
            </td>
        </tr>
    </table>
</body>
<script src="https://code.jquery.com/jquery-latest.js"></script>
<script>
    total=0;
    totals=0;
    $(document)  //(1)
    .on('click','[name=menubox]',function(){
        str=$(this).text();
        ar=str.split(',');
        ar[0]=ar[0].trim();
        ar[1]=ar[1].trim();
        $('#name').val(ar[0]);
        $('#price').val(ar[1]);
    }) //(2)
    .on('change','#quantity',function(){
        count=$('#quantity').val();
        $('#price').val(ar[1]*count);
    })
    .on('click','#btnR',function(){ //(3)
        $('#name').val('');
        $('#price').val('');
        $('#quantity').val(1);
    })
    .on('click','#btnS',function(){//(4)
        if($('#name').val()==''||$('#price').val()==''||$('#quantity').val()==''){
            return false;
        }
        n=' 메뉴 '+$('#name').val();
        p=' 가격 '+$('#price').val();
        q=' 수량 '+$('#quantity').val();
        $('#orderbox').append('<option id="menuboxxx" name="menubox">'+n+p+q+'</option>');
        $('#btnR').trigger('click');
        arp=p.split('가격 ');
        arp[1]=parseInt(arp[1]);
        total=total+arp[1];
        console.log(total);
        $('#orderprice').val(total); // 주문금액
    })
    .on('click','#btnC',function(){
        $('#orderprice').val('');
        $('#mobile').val('');
        $('#totalsales').val(totals); //매출총액
        while(($('#menuboxxx').length)){
        $('#menuboxxx').remove();
        }
        total=0;
    })
    .on('click','#btnO',function(){
        if($('#orderprice').val()==''){
            return false;
        }
        let today = new Date();
        year= today.getFullYear()+'년 ';
        month = today.getMonth()+1+'월 ';
        date = today.getDate()+'일 ';
        hour = today.getHours()+'시 ';
        minute = today.getMinutes()+'분 ';
        second = today.getSeconds()+'초 ';
        time=year+month+date+hour+minute+second
        new Date();
        t='주문금액 '+$('#orderprice').val()+'원';
        number='모바일번호 '+$('#mobile').val();
        $('#final').append('<option id="menuboxx" name="menubox">'+time+'</option>');
        $('#final').append('<option id="menuboxx" name="menubox">'+t+'</option>');
        if(!$('#mobile').val()==''){
            $('#final').append('<option id="menuboxx" name="menubox">'+number+'</option>');
        }
        if($('#mobile').val()==''){
            $('#final').append('<option id="menuboxx" name="menubox">적립번호가 없습니다.</option>');
        }
        $('#orderprice').val('');
        $('#mobile').val('');
        $('#final').append('<option id="menuboxx" name="menubox"></option>');
        $('#btnC').trigger('click');
        arp=t.split('주문금액 ');
        arp[1]=parseInt(arp[1]);
        totals=totals+arp[1];
        console.log(totals);
        $('#totalsales').val(totals);
        total=0;
    })
    .on('click','#buttonref',function(){
        while($('#menuboxxx').length){
        $('#menuboxxx').remove();
        }
        while($('#menuboxx').length){
            $('#menuboxx').remove();
            }
        $('#orderprice').val('');
        $('#mobile').val('');
        total=0;
        $('#totalsales').val('');
        totals=0;
    })

</script>

</html>